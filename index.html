<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WeatherWise - Smart Weather Companion</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/umd/lucide.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { 
            Cloud, 
            Sun, 
            CloudRain, 
            Wind, 
            Droplets, 
            Eye, 
            Thermometer,
            MapPin,
            Heart,
            MessageCircle,
            Camera,
            Shirt,
            Users,
            Trophy,
            Settings,
            Home,
            Map,
            Calendar,
            Share,
            Star,
            Zap,
            Leaf,
            Shield,
            Smile,
            Frown,
            Meh,
            ThermometerSun,
            Umbrella,
            Navigation,
            TrendingUp
        } = lucide;

        // Mock weather data
        const mockWeatherData = {
            current: {
                temperature: 24,
                feelsLike: 27,
                condition: 'Partly Cloudy',
                humidity: 65,
                windSpeed: 15,
                windDirection: 'NW',
                visibility: 10,
                uvIndex: 6,
                airQuality: 85,
                pressure: 1013,
                sunrise: '6:32 AM',
                sunset: '7:45 PM'
            },
            hourly: [
                { time: '2PM', temp: 24, condition: 'sunny', icon: Sun },
                { time: '3PM', temp: 26, condition: 'sunny', icon: Sun },
                { time: '4PM', temp: 25, condition: 'cloudy', icon: Cloud },
                { time: '5PM', temp: 23, condition: 'rainy', icon: CloudRain },
                { time: '6PM', temp: 21, condition: 'rainy', icon: CloudRain },
                { time: '7PM', temp: 20, condition: 'cloudy', icon: Cloud }
            ],
            weekly: [
                { day: 'Today', high: 24, low: 18, condition: 'Partly Cloudy', icon: Cloud, rain: 30 },
                { day: 'Fri', high: 26, low: 20, condition: 'Sunny', icon: Sun, rain: 10 },
                { day: 'Sat', high: 23, low: 17, condition: 'Cloudy', icon: Cloud, rain: 60 },
                { day: 'Sun', high: 21, low: 15, condition: 'Rainy', icon: CloudRain, rain: 80 },
                { day: 'Mon', high: 19, low: 13, condition: 'Rainy', icon: CloudRain, rain: 90 },
                { day: 'Tue', high: 22, low: 16, condition: 'Cloudy', icon: Cloud, rain: 40 },
                { day: 'Wed', high: 25, low: 19, condition: 'Sunny', icon: Sun, rain: 20 }
            ]
        };

        const aiInsights = [
            "Perfect picnic weather today! UV is moderate, don't forget sunscreen 🌞",
            "Rain expected at 6PM - great time to water your plants naturally 🌱",
            "Breezy conditions perfect for air-drying clothes and saving energy ⚡",
            "Cool evening ahead - perfect for a sunset walk 🌅",
            "High humidity today - stay hydrated and wear breathable fabrics 💧"
        ];

        const outfitSuggestions = [
            { item: 'Light Jacket', icon: Shirt, reason: 'Cool morning, warming afternoon' },
            { item: 'Comfortable T-Shirt', icon: Shirt, reason: 'Perfect temperature for breathable fabric' },
            { item: 'Jeans', icon: Shirt, reason: 'Versatile for changing conditions' },
            { item: 'Sneakers', icon: Shirt, reason: 'Comfortable for walking' }
        ];

        const accessories = [
            { item: 'Umbrella', icon: Umbrella, reason: 'Rain expected at 6PM' },
            { item: 'Sunglasses', icon: Sun, reason: 'High UV index today' }
        ];

        const communityPosts = [
            {
                id: 1,
                user: 'Sarah M.',
                location: '2km away',
                message: 'Light drizzle starting downtown, but beautiful rainbow visible!',
                time: '5 min ago',
                likes: 12,
                comments: 3,
                image: '🌈'
            },
            {
                id: 2,
                user: 'Mike Chen',
                location: '1km away',
                message: 'Perfect sunset at the beach - the colors are incredible tonight!',
                time: '15 min ago',
                likes: 24,
                comments: 7,
                image: '🌅'
            },
            {
                id: 3,
                user: 'Emma Wilson',
                location: '500m away',
                message: 'Great weather for cycling! The park trails are perfect right now.',
                time: '1h ago',
                likes: 18,
                comments: 5,
                image: '🚴‍♀️'
            }
        ];

        const WeatherApp = () => {
            const [currentView, setCurrentView] = useState('home');
            const [userPoints, setUserPoints] = useState(1250);
            const [dailyMood, setDailyMood] = useState(null);
            const [currentInsight, setCurrentInsight] = useState(0);
            const [isARMode, setIsARMode] = useState(false);
            const [notifications, setNotifications] = useState([
                { id: 1, message: 'Severe weather alert: Storm approaching in 2 hours', type: 'warning', time: '10 min ago' }
            ]);

            useEffect(() => {
                const interval = setInterval(() => {
                    setCurrentInsight((prev) => (prev + 1) % aiInsights.length);
                }, 8000);
                return () => clearInterval(interval);
            }, []);

            const handleMoodSelect = (mood) => {
                setDailyMood(mood);
                setUserPoints(prev => prev + 10);
            };

            const handleLikePost = (postId) => {
                setUserPoints(prev => prev + 5);
            };

            const renderNavigation = () => (
                <div className="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2">
                    <div className="flex justify-around">
                        {[
                            { id: 'home', icon: Home, label: 'Home' },
                            { id: 'forecast', icon: Calendar, label: 'Forecast' },
                            { id: 'maps', icon: Map, label: 'Maps' },
                            { id: 'wardrobe', icon: Shirt, label: 'Wardrobe' },
                            { id: 'community', icon: Users, label: 'Community' }
                        ].map(({ id, icon: Icon, label }) => (
                            <button
                                key={id}
                                onClick={() => setCurrentView(id)}
                                className={`flex flex-col items-center p-2 rounded-lg transition-colors ${
                                    currentView === id ? 'text-blue-600 bg-blue-50' : 'text-gray-600 hover:text-blue-600'
                                }`}
                            >
                                <Icon size={20} />
                                <span className="text-xs mt-1">{label}</span>
                            </button>
                        ))}
                    </div>
                </div>
            );

            const renderHomeScreen = () => (
                <div className="space-y-4">
                    {/* Header */}
                    <div className="flex items-center justify-between mb-4">
                        <div className="flex items-center space-x-2">
                            <MapPin size={20} className="text-blue-600" />
                            <span className="font-semibold text-gray-800">Adelaide, SA</span>
                        </div>
                        <div className="flex items-center space-x-2">
                            <Trophy size={18} className="text-yellow-500" />
                            <span className="text-sm font-medium text-gray-700">{userPoints} pts</span>
                        </div>
                    </div>

                    {/* Notifications */}
                    {notifications.length > 0 && (
                        <div className="bg-orange-50 border-l-4 border-orange-400 p-4 rounded-r-lg mb-4">
                            <div className="flex items-start">
                                <Shield className="text-orange-400 mr-3 flex-shrink-0 mt-0.5" size={20} />
                                <div>
                                    <h4 className="text-orange-800 font-medium">Weather Alert</h4>
                                    <p className="text-orange-700 text-sm mt-1">{notifications[0].message}</p>
                                    <p className="text-orange-600 text-xs mt-1">{notifications[0].time}</p>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Current Weather */}
                    <div className="bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl p-6 text-white mb-4">
                        <div className="text-center">
                            <Cloud size={64} className="mx-auto mb-4 opacity-90" />
                            <div className="text-4xl font-light mb-2">{mockWeatherData.current.temperature}°C</div>
                            <div className="text-lg opacity-90 mb-2">{mockWeatherData.current.condition}</div>
                            <div className="text-sm opacity-75">Feels like {mockWeatherData.current.feelsLike}°C</div>
                        </div>
                    </div>

                    {/* AI Insight */}
                    <div className="bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-100 rounded-xl p-4 mb-4">
                        <div className="flex items-start space-x-3">
                            <Zap className="text-purple-500 mt-1 flex-shrink-0" size={20} />
                            <div>
                                <h3 className="font-medium text-purple-800 mb-2">AI Weather Insight</h3>
                                <p className="text-purple-700 text-sm leading-relaxed">{aiInsights[currentInsight]}</p>
                            </div>
                        </div>
                    </div>

                    {/* Quick Stats */}
                    <div className="grid grid-cols-2 gap-3 mb-4">
                        {[
                            { icon: Wind, label: 'Wind', value: `${mockWeatherData.current.windSpeed} km/h ${mockWeatherData.current.windDirection}` },
                            { icon: Droplets, label: 'Humidity', value: `${mockWeatherData.current.humidity}%` },
                            { icon: ThermometerSun, label: 'UV Index', value: mockWeatherData.current.uvIndex },
                            { icon: Eye, label: 'Visibility', value: `${mockWeatherData.current.visibility} km` }
                        ].map(({ icon: Icon, label, value }, index) => (
                            <div key={index} className="bg-white rounded-xl p-4 border border-gray-100">
                                <div className="flex items-center justify-between">
                                    <Icon className="text-blue-600" size={20} />
                                    <div className="text-right">
                                        <div className="text-xs text-gray-500">{label}</div>
                                        <div className="font-semibold text-gray-800">{value}</div>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* Hourly Preview */}
                    <div className="bg-white rounded-xl p-4 border border-gray-100 mb-4">
                        <h3 className="font-semibold text-gray-800 mb-3">Today's Hourly</h3>
                        <div className="flex space-x-4 overflow-x-auto">
                            {mockWeatherData.hourly.map(({ time, temp, icon: Icon }, index) => (
                                <div key={index} className="flex-shrink-0 text-center">
                                    <div className="text-xs text-gray-500 mb-2">{time}</div>
                                    <Icon className="text-blue-600 mx-auto mb-2" size={24} />
                                    <div className="text-sm font-medium">{temp}°</div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Mood Check */}
                    <div className="bg-white rounded-xl p-4 border border-gray-100 mb-20">
                        <h3 className="font-semibold text-gray-800 mb-3">How are you feeling today?</h3>
                        <div className="flex justify-center space-x-4">
                            {[
                                { mood: 'happy', icon: '😊', color: 'text-green-500' },
                                { mood: 'neutral', icon: '😐', color: 'text-yellow-500' },
                                { mood: 'sad', icon: '😔', color: 'text-blue-500' },
                                { mood: 'sick', icon: '🤒', color: 'text-red-500' },
                                { mood: 'energetic', icon: '⚡', color: 'text-purple-500' }
                            ].map(({ mood, icon, color }) => (
                                <button
                                    key={mood}
                                    onClick={() => handleMoodSelect(mood)}
                                    className={`text-2xl p-3 rounded-full transition-all ${
                                        dailyMood === mood ? 'bg-blue-50 ring-2 ring-blue-400' : 'hover:bg-gray-50'
                                    }`}
                                >
                                    <span>{icon}</span>
                                </button>
                            ))}
                        </div>
                        {dailyMood && (
                            <div className="text-center mt-3 text-sm text-green-600 font-medium">
                                +10 points for logging your mood! 🎉
                            </div>
                        )}
                    </div>
                </div>
            );

            const renderForecastScreen = () => (
                <div className="space-y-4 mb-20">
                    <h2 className="text-2xl font-bold text-gray-800">7-Day Forecast</h2>
                    
                    {/* Weekly Forecast */}
                    <div className="bg-white rounded-xl border border-gray-100 overflow-hidden">
                        {mockWeatherData.weekly.map(({ day, high, low, condition, icon: Icon, rain }, index) => (
                            <div key={index} className={`flex items-center justify-between p-4 ${index !== mockWeatherData.weekly.length - 1 ? 'border-b border-gray-100' : ''}`}>
                                <div className="flex items-center space-x-4">
                                    <div className="w-16 text-left">
                                        <div className="font-medium text-gray-800">{day}</div>
                                    </div>
                                    <Icon className="text-blue-600" size={24} />
                                    <div className="flex-1">
                                        <div className="text-sm text-gray-600">{condition}</div>
                                        <div className="text-xs text-gray-500">{rain}% rain</div>
                                    </div>
                                </div>
                                <div className="text-right">
                                    <div className="font-semibold text-gray-800">{high}°</div>
                                    <div className="text-sm text-gray-500">{low}°</div>
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* AI Summary */}
                    <div className="bg-gradient-to-r from-indigo-50 to-blue-50 border border-indigo-100 rounded-xl p-4">
                        <h3 className="font-medium text-indigo-800 mb-2">AI Weekly Summary</h3>
                        <p className="text-indigo-700 text-sm leading-relaxed">
                            Warm start to the week with cooling mid-week showers. Perfect for outdoor activities today and Friday, 
                            then plan indoor activities for the weekend. Temperatures return to pleasant levels by Wednesday.
                        </p>
                    </div>

                    {/* Extended Options */}
                    <div className="grid grid-cols-2 gap-3">
                        <button className="bg-white border border-gray-200 rounded-xl p-4 text-left hover:bg-gray-50 transition-colors">
                            <TrendingUp className="text-blue-600 mb-2" size={24} />
                            <div className="font-medium text-gray-800">Hourly Details</div>
                            <div className="text-xs text-gray-500">48-hour breakdown</div>
                        </button>
                        <button 
                            onClick={() => setIsARMode(true)}
                            className="bg-white border border-gray-200 rounded-xl p-4 text-left hover:bg-gray-50 transition-colors"
                        >
                            <Camera className="text-blue-600 mb-2" size={24} />
                            <div className="font-medium text-gray-800">AR Weather</div>
                            <div className="text-xs text-gray-500">Point at sky</div>
                        </button>
                    </div>
                </div>
            );

            const renderWardrobeScreen = () => (
                <div className="space-y-4 mb-20">
                    <h2 className="text-2xl font-bold text-gray-800">Wardrobe Assistant</h2>

                    {/* Today's Outfit */}
                    <div className="bg-white rounded-xl p-6 border border-gray-100">
                        <h3 className="font-semibold text-gray-800 mb-4">Today's Recommended Outfit</h3>
                        <div className="space-y-4">
                            {outfitSuggestions.map(({ item, icon: Icon, reason }, index) => (
                                <div key={index} className="flex items-center space-x-4 p-3 bg-gray-50 rounded-lg">
                                    <div className="bg-blue-100 p-3 rounded-full">
                                        <Icon className="text-blue-600" size={20} />
                                    </div>
                                    <div className="flex-1">
                                        <div className="font-medium text-gray-800">{item}</div>
                                        <div className="text-sm text-gray-600">{reason}</div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Accessories */}
                    <div className="bg-white rounded-xl p-6 border border-gray-100">
                        <h3 className="font-semibold text-gray-800 mb-4">Don't Forget These!</h3>
                        <div className="space-y-3">
                            {accessories.map(({ item, icon: Icon, reason }, index) => (
                                <div key={index} className="flex items-center space-x-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
                                    <Icon className="text-yellow-600" size={20} />
                                    <div>
                                        <div className="font-medium text-gray-800">{item}</div>
                                        <div className="text-sm text-gray-600">{reason}</div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Style Preferences */}
                    <div className="bg-white rounded-xl p-6 border border-gray-100">
                        <h3 className="font-semibold text-gray-800 mb-4">Style Preferences</h3>
                        <div className="grid grid-cols-2 gap-3">
                            {['Casual', 'Business', 'Athletic', 'Formal'].map((style, index) => (
                                <button key={index} className="p-3 border border-gray-200 rounded-lg text-center hover:bg-blue-50 hover:border-blue-300 transition-colors">
                                    <div className="font-medium text-gray-800">{style}</div>
                                </button>
                            ))}
                        </div>
                    </div>

                    {/* Action Buttons */}
                    <div className="flex space-x-3">
                        <button className="flex-1 bg-blue-600 text-white py-3 rounded-xl font-medium hover:bg-blue-700 transition-colors">
                            Save Today's Outfit
                        </button>
                        <button className="flex-1 border border-gray-300 text-gray-700 py-3 rounded-xl font-medium hover:bg-gray-50 transition-colors">
                            Share Outfit
                        </button>
                    </div>
                </div>
            );

            const renderCommunityScreen = () => (
                <div className="space-y-4 mb-20">
                    <h2 className="text-2xl font-bold text-gray-800">Community Hub</h2>

                    {/* Post Update Button */}
                    <button className="w-full bg-blue-600 text-white py-3 rounded-xl font-medium hover:bg-blue-700 transition-colors">
                        + Share Weather Update
                    </button>

                    {/* Community Posts */}
                    <div className="space-y-4">
                        {communityPosts.map((post) => (
                            <div key={post.id} className="bg-white rounded-xl p-4 border border-gray-100">
                                <div className="flex items-start justify-between mb-3">
                                    <div className="flex items-center space-x-2">
                                        <div className="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
                                            <span className="text-blue-600 font-medium text-sm">{post.user[0]}</span>
                                        </div>
                                        <div>
                                            <div className="font-medium text-gray-800">{post.user}</div>
                                            <div className="text-xs text-gray-500">{post.location} • {post.time}</div>
                                        </div>
                                    </div>
                                    <div className="text-2xl">{post.image}</div>
                                </div>
                                
                                <p className="text-gray-700 mb-3 leading-relaxed">{post.message}</p>
                                
                                <div className="flex items-center space-x-4 text-sm">
                                    <button 
                                        onClick={() => handleLikePost(post.id)}
                                        className="flex items-center space-x-1 text-gray-600 hover:text-red-500 transition-colors"
                                    >
                                        <Heart size={16} />
                                        <span>{post.likes}</span>
                                    </button>
                                    <button className="flex items-center space-x-1 text-gray-600 hover:text-blue-500 transition-colors">
                                        <MessageCircle size={16} />
                                        <span>{post.comments}</span>
                                    </button>
                                    <button className="flex items-center space-x-1 text-gray-600 hover:text-green-500 transition-colors">
                                        <Share size={16} />
                                        <span>Share</span>
                                    </button>
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* Community Challenges */}
                    <div className="bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4">
                        <h3 className="font-semibold text-green-800 mb-2 flex items-center">
                            <Trophy className="mr-2" size={20} />
                            This Week's Challenge
                        </h3>
                        <p className="text-green-700 text-sm mb-3">
                            "Sustainable Weather Week" - Share eco-friendly weather tips and earn bonus points!
                        </p>
                        <button className="bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-green-700 transition-colors">
                            Join Challenge
                        </button>
                    </div>
                </div>
            );

            const renderMapsScreen = () => (
                <div className="space-y-4 mb-20">
                    <h2 className="text-2xl font-bold text-gray-800">Weather Maps</h2>

                    {/* AR Mode Toggle */}
                    <div className="flex space-x-3">
                        <button 
                            onClick={() => setIsARMode(!isARMode)}
                            className={`flex-1 py-3 rounded-xl font-medium transition-colors ${
                                isARMode 
                                    ? 'bg-purple-600 text-white' 
                                    : 'border border-gray-300 text-gray-700 hover:bg-gray-50'
                            }`}
                        >
                            <Camera className="inline mr-2" size={20} />
                            {isARMode ? 'Exit AR Mode' : 'AR Weather View'}
                        </button>
                        <button className="flex-1 border border-gray-300 text-gray-700 py-3 rounded-xl font-medium hover:bg-gray-50 transition-colors">
                            <Map className="inline mr-2" size={20} />
                            Radar Map
                        </button>
                    </div>

                    {/* AR Mode Display */}
                    {isARMode && (
                        <div className="bg-black rounded-2xl p-8 text-white relative overflow-hidden min-h-96">
                            <div className="absolute top-4 left-4 bg-black bg-opacity-50 rounded-lg p-2">
                                <span className="text-sm font-medium">🔴 AR Mode Active</span>
                            </div>
                            
                            <div className="text-center mt-12">
                                <div className="text-6xl mb-4">📱</div>
                                <p className="text-lg mb-6">Point your camera at the sky</p>
                                <p className="text-sm opacity-75 mb-8">AI will overlay live weather data</p>
                            </div>

                            {/* Floating Weather Data */}
                            <div className="absolute top-20 right-6 bg-white bg-opacity-20 backdrop-blur-sm rounded-lg p-3">
                                <div className="text-sm">☁️ 65% Cloud Cover</div>
                            </div>
                            
                            <div className="absolute bottom-32 left-6 bg-white bg-opacity-20 backdrop-blur-sm rounded-lg p-3">
                                <div className="text-sm">💨 Wind: NW 15km/h</div>
                            </div>
                            
                            <div className="absolute bottom-20 right-10 bg-white bg-opacity-20 backdrop-blur-sm rounded-lg p-3">
                                <div className="text-sm">☔ 30% Rain Chance</div>
                            </div>

                            <div className="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-4">
                                <button 
                                    onClick={() => setIsARMode(false)}
                                    className="bg-red-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors"
                                >
                                    Exit AR
                                </button>
                                <button className="bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors">
                                    Capture
                                </button>
                            </div>
                        </div>
                    )}

                    {/* Traditional Map View */}
                    {!isARMode && (
                        <div className="bg-gray-200 rounded-2xl p-8 text-center min-h-96 flex items-center justify-center">
                            <div>
                                <Map size={64} className="text-gray-500 mx-auto mb-4" />
                                <h3 className="text-xl font-semibold text-gray-700 mb-2">Interactive Weather Map</h3>
                                <p className="text-gray-600 mb-4">View live radar, satellite imagery, and weather patterns</p>
                                <div className="flex justify-center space-x-2 mb-4">
                                    {['Radar', 'Satellite', 'Temperature', 'Precipitation'].map((layer, index) => (
                                        <button key={index} className="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium hover:bg-blue-200 transition-colors">
                                            {layer}
                                        </button>
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Map Features */}
                    <div className="grid grid-cols-2 gap-3">
                        <div className="bg-white rounded-xl p-4 border border-gray-